import{t as g,s as b,d as D,c as R,a as E,o as F,b as j,i as h,e as u,F as S,S as G,f as I,g as K,h as M,r as q}from"./vendor.f4ec08d1.js";const X=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}};X();const O=l=>{const e=new Array(l?.height??0);for(let r=0;r<e.length;r++){const o=new Array(l?.width??0);for(let t=0;t<o.length;t++)o[t]=l?.fill?.(r,t)??{alive:!1};e[r]=o}return e},H=(l,e)=>l.alive?{alive:e===2||e===3}:{alive:e===3},J=(l,e,r)=>{let o=0;const t=(n,a)=>{n>=0&&n<l.length&&a>=0&&a<l[0].length&&l[n][a].alive&&o++};return t(e+1,r+1),t(e-1,r+1),t(e-1,r-1),t(e+1,r-1),t(e,r-1),t(e,r+1),t(e-1,r),t(e+1,r),o},Q=l=>{const e=[];for(let r=0;r<l.length;r++){const o=l[r];for(let t=0;t<o.length;t++){const n=o[t],a=J(l,r,t),f=H(n,a);n.alive!==f.alive&&e.push({i:r,j:t,cellState:f})}}return e},T=g('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>'),U=g('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pause"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>'),V=g('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>'),W=g('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>'),Y=l=>(()=>{const e=T.cloneNode(!0);return b(e,l,!0,!0),e})(),Z=l=>(()=>{const e=U.cloneNode(!0);return b(e,l,!0,!0),e})(),ee=l=>(()=>{const e=V.cloneNode(!0);return b(e,l,!0,!0),e})(),te=l=>(()=>{const e=W.cloneNode(!0);return b(e,l,!0,!0),e})(),re=g('<div class="flex flex-col h-screen bg-sky-900"><div class="flex flex-row justify-center"><div class="bg-sky-500 my-2 rounded-lg px-3 py-2 flex items-center justify-center"><div class="flex "></div><button></button><div class="flex text-sky-900 border-sky-900  text-lg items-center ml-2"><div></div><div></div></div><div class="flex"></div></div></div><div class="flex items-center justify-center h-full"><div class="flex flex-col"></div></div></div>'),le=g('<button class="ml-2 hover:opacity-50"></button>'),ne=g('<div class="flex flex-row"></div>'),se=g('<div class="border-sky-500 border select-none hover:opacity-50"></div>'),P=6,oe={small:12,medium:16,big:20},ie=()=>{const l={cellSize:"medium",get cellSizePx(){return oe[this.cellSize]},rectSize:{width:0,height:0},get gameSize(){return{width:Math.floor(this.rectSize.width/this.cellSizePx),height:Math.floor(this.rectSize.height/this.cellSizePx)}},gameState:O(),running:!1,speed:6,get intervalDelay(){return Math.pow(2,10-this.speed)}},[e,r]=R(l),o=new ResizeObserver(s=>{r("rectSize",{width:s[0].contentRect.width,height:s[0].contentRect.height})}),t=([s,i],v)=>{v.buttons===1&&r("gameState",s,i,"alive",p=>!p)},n=s=>{r({speed:s})},a=s=>{r("cellSize",s)},f=s=>{switch(s.key.toLowerCase()){case" ":r("running",i=>!i);break;case"w":r("speed",i=>Math.min(P,i+1));break;case"s":r("speed",i=>Math.max(1,i-1));break}};E(()=>{const s=l.gameState;r({gameState:O({width:e.gameSize.width,height:e.gameSize.height,fill:(i,v)=>s[i]?.[v]})})});let w=0;return E(()=>{w&&clearInterval(w),w=setInterval(()=>{if(!e.running)return;const s=Q(l.gameState);K(()=>{for(let i of s)r("gameState",i.i,i.j,i.cellState)})},e.intervalDelay)}),F(()=>{document.body.addEventListener("keypress",f)}),j(()=>{document.body.removeEventListener("keypress",f),clearInterval(w),o.disconnect()}),(()=>{const s=re.cloneNode(!0),i=s.firstChild,v=i.firstChild,p=v.firstChild,$=p.nextSibling,k=$.nextSibling,_=k.firstChild,z=_.nextSibling,A=k.nextSibling,C=i.nextSibling,B=C.firstChild;return h(p,u(S,{get each(){return new Array(P).fill(0).map((c,d)=>d+1)},children:c=>u(te,{class:"hover:bg-sky-300  rounded-lg -ml-2",get classList(){return{["stroke-blue-700  first:ml-0"]:c<=e.speed,["stroke-blue-200"]:c>e.speed}},onClick:[n,c]})})),h($,u(G,{get when(){return e.running},get fallback(){return u(Y,{class:"stroke-sky-900",onClick:()=>r({running:!0})})},get children(){return u(Z,{class:"stroke-sky-900",onClick:()=>r({running:!1})})}})),h(_,()=>e.gameSize.width),h(k,u(ee,{class:"w-5"}),z),h(z,()=>e.gameSize.height),h(A,u(S,{each:[{label:"sm",value:"small"},{label:"md",value:"medium"},{label:"bg",value:"big"}],children:c=>(()=>{const d=le.cloneNode(!0);return d.$$click=a,d.$$clickData=c.value,h(d,()=>c.label),I(y=>M(d,{["border-b border-sky-900"]:c.value===e.cellSize},y)),d})()})),(c=>{o.disconnect(),o.observe(c)})(C),h(B,u(S,{get each(){return e.gameState},children:(c,d)=>(()=>{const y=ne.cloneNode(!0);return h(y,u(S,{each:c,children:(N,L)=>(()=>{const m=se.cloneNode(!0);return m.$$mousedown=t,m.$$mousedownData=[d(),L()],m.addEventListener("mouseenter",x=>t([d(),L()],x)),I(x=>M(m,{[{small:"w-3 h-3",medium:"w-4 h-4",big:"w-5 h-5"}[e.cellSize]]:!0,["bg-sky-50"]:!N.alive,["bg-green-500"]:N.alive},x)),m})()})),y})()})),s})()};D(["click","mousedown"]);q(()=>u(ie,{}),document.getElementById("root"));
