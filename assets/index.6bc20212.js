import{t as a,s as m,i,c,F as w,d as x,a as b,b as k,o as S,e as L,f as N,g as I,h as M,S as E,j as O,r as P}from"./vendor.776177b1.js";const B=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=l(t);fetch(t.href,o)}};B();const R=a('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>'),A=a('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pause"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>'),D=a('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>'),G=a('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>'),j=a('<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 485 485" style="enable-background:new 0 0 485 485;"><g><path d="M0,0v485h485V0H0z M455,455H30V30h425V455z"></path><path d="M118.75,401.25c19.299,0,35-15.701,35-35s-15.701-35-35-35s-35,15.701-35,35S99.451,401.25,118.75,401.25z"></path><path d="M242.5,277.5c19.299,0,35-15.701,35-35s-15.701-35-35-35c-19.299,0-35,15.701-35,35S223.201,277.5,242.5,277.5z"></path><path d="M366.25,153.75c19.299,0,35-15.701,35-35s-15.701-35-35-35s-35,15.701-35,35S346.951,153.75,366.25,153.75z"></path></g></svg>'),F=r=>(()=>{const e=R.cloneNode(!0);return m(e,r,!0,!0),e})(),V=r=>(()=>{const e=A.cloneNode(!0);return m(e,r,!0,!0),e})(),H=r=>(()=>{const e=D.cloneNode(!0);return m(e,r,!0,!0),e})(),K=r=>(()=>{const e=G.cloneNode(!0);return m(e,r,!0,!0),e})(),q=r=>(()=>{const e=j.cloneNode(!0);return m(e,r,!0,!0),e})(),X=a('<div class="flex "></div>'),J=r=>(()=>{const e=X.cloneNode(!0);return i(e,c(w,{get each(){return new Array(r.max).fill(0).map((l,n)=>n+r.min)},children:l=>c(K,{class:"hover:opacity-50 rounded-lg -ml-2",get classList(){return{["stroke-sky-900  first:ml-0"]:l<=r.value}},get onClick(){return[r.onChange,l]}})})),e})(),Q=a('<div class="flex"></div>'),T=a('<button class="ml-2 hover:opacity-50"></button>'),U=r=>(()=>{const e=Q.cloneNode(!0);return i(e,c(w,{each:[{label:"sm",value:"small"},{label:"md",value:"medium"},{label:"bg",value:"big"}],children:l=>(()=>{const n=T.cloneNode(!0);return n.$$click=r.onChange,n.$$clickData=l.value,i(n,()=>l.label),b(t=>k(n,{["border-b border-sky-900 text-sky-900"]:l.value===r.value},t)),n})()})),e})();x(["click"]);const W=a('<div class="flex items-center justify-center h-full cells-container"><div class="flex flex-col"></div></div>'),Y=a('<div class="flex flex-row"></div>'),Z=a('<div class="cell border select-none hover:opacity-50 border-slate-600 touch-none"></div>'),ee=r=>{const e=new ResizeObserver(n=>r.onResize?.(n[0].contentRect.width,n[0].contentRect.height));S(()=>e.disconnect());const l=(n,t)=>t.buttons===1&&r.onCellPaint?.(n);return(()=>{const n=W.cloneNode(!0),t=n.firstChild;return(o=>{e.disconnect(),e.observe(o)})(n),i(t,c(w,{get each(){return r.cells},children:(o,s)=>(()=>{const u=Y.cloneNode(!0);return i(u,c(w,{each:o,children:(v,d)=>(()=>{const h=Z.cloneNode(!0);return h.$$mousedown=l,h.$$mousedownData=[s(),d()],h.addEventListener("mouseenter",f=>l([s(),d()],f)),b(f=>k(h,{["bg-slate-700"]:!v.alive,["bg-green-600"]:v.alive},f)),h})()})),u})()})),b(o=>k(n,{[r.cellSize]:!0},o)),n})()};x(["mousedown"]);const _=r=>{const e=new Array(r?.rows??0);for(let l=0;l<e.length;l++){const n=new Array(r?.cols??0);for(let t=0;t<n.length;t++)n[t]=r?.fill?.(l,t)??{alive:!1};e[l]=n}return e},te=(r,e)=>r.alive?{alive:e===2||e===3}:{alive:e===3},le=(r,e,l)=>{let n=0;const t=(o,s)=>{o>=0&&o<r.length&&s>=0&&s<r[0].length&&r[o][s].alive&&n++};return t(e+1,l+1),t(e-1,l+1),t(e-1,l-1),t(e+1,l-1),t(e,l-1),t(e,l+1),t(e-1,l),t(e+1,l),n},re=r=>{const e=[];for(let l=0;l<r.length;l++){const n=r[l];for(let t=0;t<n.length;t++){const o=n[t],s=le(r,l,t),u=te(o,s);o.alive!==u.alive&&e.push({row:l,col:t,cellState:u})}}return e},ne=()=>{const r={cells:_(),get rows(){return this.cells?.length??0},get cols(){return this.cells[0]?.length??0}},[e,l]=N(r);return[e,{tick(){const n=r.cells,t=re(n);L(()=>{for(const o of t)l("cells",o.row,o.col,o.cellState)})},toggleCell(n,t){l("cells",n,t,"alive",o=>!o)},resize(n,t){l("cells",_({rows:n,cols:t,fill:(o,s)=>r.cells[o]?.[s]}))},randomize(){l("cells",_({rows:e.rows,cols:e.cols,fill:()=>({alive:Math.random()<.3})}))}}]},oe=a('<div class="flex flex-col h-screen bg-slate-900 [-webkit-user-drag:none]"><div class="flex flex-row justify-center"><div class="bg-slate-800 my-2 rounded-lg px-3 py-2 flex items-center justify-center text-slate-400 stroke-slate-400"><button class="ml-1 hover:opacity-50"></button><div class="flex justify-center text-lg items-center ml-2 text-slate-300 w-18"><div></div><div></div></div><button class="w-6 ml-2 flex justify-center items-center hover:opacity-50"></button></div></div></div>'),se=6,ce={small:12,medium:16,big:20},ie=()=>{const[r,e]=ne(),[l,n]=N({cellSize:"medium",rectSize:{width:0,height:0},running:!1,speed:6}),t=I(()=>Math.pow(2,10-l.speed)),o=()=>ce[l.cellSize];M(()=>e.resize(Math.floor(l.rectSize.height/o()),Math.floor(l.rectSize.width/o())));const s=v=>{switch(v.key.toLowerCase()){case" ":n("running",d=>!d);break;case"w":n("speed",d=>Math.min(se,d+1));break;case"s":n("speed",d=>Math.max(1,d-1));break}};let u=0;return M(()=>{u&&clearInterval(u),u=setInterval(()=>l.running&&e.tick(),t())}),S(()=>clearInterval(u)),document.body.addEventListener("keypress",s),S(()=>document.body.removeEventListener("keypress",s)),(()=>{const v=oe.cloneNode(!0),d=v.firstChild,h=d.firstChild,f=h.firstChild,p=f.nextSibling,C=p.firstChild,z=C.nextSibling,y=p.nextSibling;return i(h,c(J,{min:1,max:6,get value(){return l.speed},onChange:g=>n({speed:g})}),f),f.$$click=()=>n("running",g=>!g),i(f,c(E,{get when(){return l.running},get fallback(){return c(F,{})},get children(){return c(V,{})}})),i(C,()=>r.cols),i(p,c(H,{class:"w-5"}),z),i(z,()=>r.rows),i(h,c(U,{get value(){return l.cellSize},onChange:g=>n({cellSize:g})}),y),O(y,"click",e.randomize,!0),i(y,c(q,{class:"fill-slate-400"})),i(v,c(ee,{get cells(){return r.cells},get cellSize(){return l.cellSize},onResize:(g,$)=>n("rectSize",{width:g,height:$}),onCellPaint:([g,$])=>e.toggleCell(g,$)}),null),v})()};x(["click"]);P(()=>c(ie,{}),document.getElementById("root"));
